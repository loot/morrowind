# LOOT ignores anything that doesn't come under 'bash_tags', 'globals',
# 'groups', or 'plugins', so a section like 'common' is useful for storing
# data that gets re-used.
prelude:
  common:
  # Message Anchors
    - &alreadyInX
      type: error
      content: 'Delete. Already included in %1%.'

    - &alreadyInOrFixedByX
      type: error
      content: 'Delete. Already included or otherwise fixed in %1%.'

    - &alsoUseX
      type: say
      content: 'It''s highly recommended that you also use %1%.'

    - &compatIssuesWithX
      type: say
      content: 'This plugin has compatibility issues with %1%. For more information, read this mod''s compatibility notes.'

    - &compatNotes
      type: say
      content: 'It is recommended that you read this mod''s [Compatibility Notes](%1%).'

    - &compatPatch
      type: say
      content: 'It is recommended that you check the following compatibility patch compilation for this mod: %1%'

    - &corrupt
      type: warn
      content: 'This file is corrupt and should not be used.'

    - &deleteOrDeactivateX
      type: error
      content: 'Delete or deactivate. %1%'
      subs: [ '' ]

    - &deletePlugin
      type: warn
      content: 'When using **%1%**, it''s recommended that you deactivate or delete this ESP file but keep the resources (e.g. meshes, textures) installed with this mod.'

    - &includesX
      type: say
      content: '%1% is included with this mod.'

    - &languageX
      type: say
      content: 'Language: %1%'

    - &mainQuestCompleted
      type: say
      content: 'Only use this plugin once the main quest of the game has been completed.'

    - &masterReassign
      type: say
      content: 'The **%1%** master must be reassigned to **%2%**.'

    - &missingRequirementXforY
      type: warn
      content: 'It appears you have installed **%2%**, but some of its requirements seem to be missing. Please ensure you have correctly installed **%1%**.'

    - &missingRequirementXforPlugin
      type: warn
      content: 'Some of this plugins requirements seem to be missing. Please ensure you have correctly installed **%1%**.'

    - &moddingPlugin
      type: error
      content: 'This plugin is a modding resource and should not be used in-game.'

    - &moveXFromYToZ
      type: say
      content: 'Move %1% from %2% to %3%.'

    - &obsolete
      type: warn
      content: 'Obsolete. Update to the latest version. %1%'
      subs: [ '' ]

    - &optional
      type: say
      content: 'This plugin is optional.'

    - &patch3rdParty
      type: say
      content: 'You seem to be using **%1%**, but you have not enabled a compatibility patch for this mod. A third party patch is available here: %2%'

    - &patcherScriptAvailable
      type: say
      content: '%1% patcher script available here: %2%'

    - &patchIncluded
      type: say
      content: 'You seem to be using **%1%**, but you have not enabled a compatibility patch for this mod. A compatibility patch is included with this plugin''s installer.'

    - &patchOutdated
      type: warn
      content: 'This patch is outdated and may not be compatible with the latest version of the patched mod.'

    - &patchProvided
      type: say
      content: 'You seem to be using **%1%**, but you have not enabled a compatibility patch for this mod. A compatibility patch is provided on this plugin''s mod page.'

    - &patchUnavailable
      type: warn
      content: 'A patch is required to make this mod fully compatible with %1%. None is currently available for download.'

    - &patchUpdateAvailable
      type: say
      content: 'Update Patch available: %1%'

    - &renameFile
      type: say
      content: 'Rename this file to %1%.'

    - &renameXtoY
      type: warn
      content: 'You need to rename %1% to %2% or this mod won''t work.'

    - &requiresResources
      type: warn
      content: 'Requires resources (e.g. meshes, textures; not plugins) from %1%.'

    - &requiresX
      type: warn
      content: 'Requires: %1%'

    - &runAnimFramework
      type: say
      content: 'It appears you have **%1%** installed. Remember to run **%2%** every time you have installed or uninstalled %3%, or a %3%-based mod.'

    - &useBashTweakInstead
      type: say
      content: 'A Bashed Patch tweak can be used instead of this plugin. %1%'
      subs: [ '' ]
      condition: 'file("Bashed Patch.*\.esp")'

    - &useINITweakInstead
      type: say
      content: 'An INI tweak can be used instead of this plugin. %1%'
      subs: [ '' ]

    - &useInstead
      type: warn
      content: 'Use %1% instead.'

    - &useOnlyOneX
      type: error
      content: 'Use only one %1%.'

    - &useVersion
      type: error
      content: 'Use %1% version.'

    - &useVersionNon
      type: error
      content: 'Use non-%1% version.'

    - &versionOldX
      type: say
      content: 'It appears you do not have the latest version of %1%. Some mods may require functionality added in the latest version of %1% to work.'

    - &versionUpToDateX
      type: say
      content: 'Your %1% is up-to-date.'

    - &versionXIncY
      type: error
      content: 'Your installed version of %1% is not compatible with your version of %2%.'

    - &versionXofYorGreaterRequired
      type: error
      content: 'Requires version **%1%** or greater of **%2%**.'

  # Global Anchors
    - &latestLOOTThread
      type: say
      content: '[Latest LOOT thread](%1%).'
      subs: [ 'https://loot.github.io/latest-thread/' ]

common: []

bash_tags: []

globals:
# Latest LOOT Thread
  - *latestLOOTThread

groups:
  - name: &dlcGroup DLC

  - name: &unofficialPatches Unofficial Patches
    after: [ *dlcGroup ]

  - name: &earlyLoadersGroup Early Loaders
    after: [ *unofficialPatches ]

  - name: default
    after: [ *earlyLoadersGroup ]

  - name: &dynamicPatchGroup Dynamic Patches
    after: [ default ]

plugins:
###### Official Game Files ######
  - name: 'Tribunal.esm'
    group: *dlcGroup

  - name: 'Bloodmoon.esm'
    group: *dlcGroup
    after: [ 'Tribunal.esm' ]

###### Official Mods ######
  - name: '(adamantiumarmor|AreaEffectArrows|bcsounds|EBQ_Artifact|entertainers|LeFemmArmor|master_index|Siege at Firemoth).esp'
    url:
      - link: 'https://en.m.uesp.net/wiki/Morrowind:Plugins'
        name: 'Morrowind Official Plugins on UESP.net'
      - link: 'https://www.nexusmods.com/morrowind/mods/43931/'
        name: 'Unofficial Morrowind Official Plugins Patched'
    group: *earlyLoadersGroup
    msg:
      - <<: *alreadyInX
        subs: [ 'Unofficial Morrowind Official Plugins Patched' ]
        condition: 'active("Unofficial Morrowind Official Plugins Patched.ESP")'
      - <<: *deletePlugin
        subs: [ '"Unofficial Morrowind Official Plugins Patched.ESP"' ]
        condition: 'active("Unofficial Morrowind Official Plugins Patched.ESP")'

  - name: '\[Official\](Adamantium Armor|Area Effect Arrows|Bitter Coast Sounds|Helm of Tohan|Entertainers|LeFemm Armor|Master Index|Siege at Firemoth)\.esp'
    url:
      - link: 'http://download.fliggerty.com/download-13-1079'
        name: 'Morrowind Official Plugins on fliggerty.com'
    group: *earlyLoadersGroup
    inc: [ 'Unofficial Morrowind Official Plugins Patched.ESP' ]
    msg:
      - <<: *alreadyInX
        subs: [ 'Unofficial Morrowind Official Plugins Patched' ]
        condition: 'active("Unofficial Morrowind Official Plugins Patched.ESP")'

  - name: '(adamantiumarmor|\[Official\]Adamantium Armor)\.esp'
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'
      - '[Official]Area Effect Arrows.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
      - '[Official]Helm of Tohan.esp'
      - '[Official]LeFemm Armor.esp'
      - '[Official]Master Index.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Adamantium Armor"' ]
        condition: 'many("(adamantiumarmor|\[Official\]Adamantium Armor)\.esp")'

  - name: '(AreaEffectArrows|\[Official\]Area Effect Arrows)\.esp'
    after:
      - 'bcsounds.esp'
      - 'entertainers.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Area Effect Arrows"' ]
        condition: 'many("(AreaEffectArrows|\[Official\]Area Effect Arrows)\.esp")'

  - name: '(bcsounds|\[Official\]Bitter Coast Sounds)\.esp'
    after:
      - 'entertainers.esp'
      - '[Official]Entertainers.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Bitter Coast Sounds"' ]
        condition: 'many("(bcsounds|\[Official\]Bitter Coast Sounds)\.esp")'

  - name: '(EBQ_Artifact|\[Official\]Helm of Tohan)\.esp'
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'entertainers.esp'
      - '[Official]Area Effect Arrows.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"EBQ_Artifact" or "Helm of Tohan"' ]
        condition: 'many("(EBQ_Artifact|\[Official\]Helm of Tohan)\.esp")'

  - name: '(entertainers|\[Official\]Entertainers)\.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Entertainers"' ]
        condition: 'many("(entertainers|\[Official\]Entertainers)\.esp")'

  - name: 'LeFemmArmor.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/42560/'
        name: 'Expanded LeFemm Armor'
  - name: '(LeFemmArmor|\[Official\]LeFemm Armor)\.esp'
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'master_index.esp'
      - '[Official]Area Effect Arrows.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
      - '[Official]Helm of Tohan.esp'
      - '[Official]Master Index.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"LeFemm Armor"' ]
        condition: 'many("(LeFemmArmor|\[Official\]LeFemm Armor)\.esp")'

  - name: '(master_index|\[Official\]Master Index)\.esp'
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - '[Official]Area Effect Arrows.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
      - '[Official]Helm of Tohan.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Master Index"' ]
        condition: 'many("(master_index|\[Official\]Master Index)\.esp")'

  - name: '(Siege at Firemoth|\[Official\]Siege at Firemoth)\.esp'
    after:
      - 'adamantiumarmor.esp'
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'
      - '[Official]Adamantium Armor.esp'
      - '[Official]Area Effect Arrows.esp'
      - '[Official]Bitter Coast Sounds.esp'
      - '[Official]Entertainers.esp'
      - '[Official]Helm of Tohan.esp'
      - '[Official]LeFemm Armor.esp'
      - '[Official]Master Index.esp'
    msg:
      - <<: *useOnlyOneX
        subs: [ '"Siege at Firemoth"' ]
        condition: 'many("(Siege at Firemoth|\[Official\]Siege at Firemoth)\.esp")'

  - name: 'Unofficial Morrowind Official Plugins Patched.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/43931/' ]
    group: *earlyLoadersGroup

###### Unofficial Patches ######
  - name: 'Patch for Purists.*\.es(m|p)'
    url: [ 'https://www.nexusmods.com/morrowind/mods/45096/' ]
    group: *unofficialPatches
  - name: 'Patch for Purists( - Base Patch)?\.esm'
    inc:
      - 'gr_ScriptImprovements.esm'
      - 'gr_ScriptImprovements.esp'
      - 'Morrowind Patch v1.2.2.esm'
      - 'Morrowind Patch v1.6.3.esm'
      - 'Morrowind Patch v1.6.4.esm'
      - 'Morrowind Patch v1.6.5-BETA.esm'
      - 'Morrowind Patch 1.6.5 Beta (BTB Edit).esm'
      - 'Morrowind Patch v1.6.5d_beta.esm'
      - 'Morrowind Patch v1.6.6_beta.esm'
      - 'Morrowind Rebirth [Main].ESP'
    msg:
      - <<: *useInstead
        type: error
        subs: [ 'Morrowind Patch Project 1.6.5 [For Rebirth].esm' ]
        condition: 'active("Morrowind Rebirth [Main].ESP")'
  - name: 'Patch for Purists.esm'
    msg:
      - <<: *obsolete
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'
      - type: say
        content:
          - lang: en
            text: 'Legacy version. Only recommended for old saves.'
          - lang: de
            text: 'Alt-Version. Ausschließlich für alte Speicherstände empfohlen.'
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'
  - name: 'Patch for Purists - (Base Patch|(Book|Dialogue|Statistic) Typos|Floating Rocks|Expansion Implementation|Dialogue Inconsistencies)\.esm'
    msg:
      - *obsolete
      - type: say
        content:
          - lang: en
            text: 'Legacy version. Only recommended for old saves.'
          - lang: de
            text: 'Alt-Version. Ausschließlich für alte Speicherstände empfohlen.'
  - name: 'Patch for Purists - Base Patch.esm'
    after: [ 'Patch for Purists - Dialogue Typos.esm' ]
  - name: 'Patch for Purists - Book Typos.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
  - name: 'Patch for Purists - Floating Rocks.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
  - name: 'Patch for Purists - Expansion Implementation.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
  - name: 'Patch for Purists - Dialogue Inconsistencies.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'
  - name: 'Patch for Purists - Statistic Typos.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'
      - name: 'Patch for Purists - Dialogue Inconsistencies.esm'

###### Modding Tools - Generated Files ######
  - name: 'Merged Objects.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/46870/' ]
    group: *dynamicPatchGroup
    msg:
      - type: say
        content:
          - lang: en
            text: 'Regenerate after adding or removing mods that change or add in-game items. Use [TES3Merge](https://www.nexusmods.com/morrowind/mods/46870/)'

  - name: 'multipatch.esp'
    group: *dynamicPatchGroup
    after: [ 'Merged Objects.esp' ]
    msg:
      - type: say
        content:
          - lang: en
            text: 'Regenerate after adding or removing mods or generating [Merged Objects.esp](https://www.nexusmods.com/morrowind/mods/46870/)'
      - type: say
        content:
          - lang: en
            text: 'Delete before generating [Merged Objects.esp](https://www.nexusmods.com/morrowind/mods/46870/), to avoid cyclic dependency.'

###### Resources & Frameworks ######
  - name: 'OAAB_Data.esm'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49042/' ]
    group: *earlyLoadersGroup

  - name: 'Tamriel_Data.esm'
    url: [ 'https://www.nexusmods.com/morrowind/mods/44537/' ]
    group: *earlyLoadersGroup

###### Fixes ######
  - name: 'correctUV Ore Replacer_(fixed|respawning)\.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/46599/'
        name: 'Graphic Herbalism - MWSE and OpenMW Edition'
    inc:
      - 'correctUV Ore Replacer 1.0.esp'
      - 'Graphic Herbalism.esp'
      - 'Graphic Herbalism Extra.esp'
      - 'Graphic Herbalism Extra (Correct UV).esp'
      - 'Graphic Herbalism TR.ESP'
      - 'Graphic Herbalism TR Extra.ESP'
    msg:
      - <<: *useOnlyOneX
        subs: [ 'Correct UV Diverse Ore Replacer ESP' ]
        condition: 'many("correctUV Ore Replacer_(fixed|respawning)\.esp")'

  - name: 'gr_ScriptImprovements.es(m|p)'
    url: [ 'https://www.nexusmods.com/morrowind/mods/43828/' ]
    msg:
      - <<: *alreadyInX
        subs: [ 'Patch for Purists' ]
        condition: 'active("Patch for Purists.esm") or active("Patch for Purists - Base Patch.esm")'
      - <<: *useOnlyOneX
        subs: [ '"Script Improvements" version' ]
        condition: 'many("gr_ScriptImprovements.es(m|p)")'

###### Character Appearance - NPCs ######
  - name: 'Improved Argonians.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/45918/' ]
    after: [ 'New Argonian Bodies - Clean.esp' ]
    inc:
      - 'Slof''s BB neck fix.esp'
      - 'Slof''s Better Beasts a.esp'
      - 'Slof''s Better Beasts b.esp'
      - 'Slof''s Civilised Beasts.esp'
      - 'Wey_New_Argonians.ESP'

###### Environment, Landscape & Flora ######
  - name: 'Better Landscapes Stonewood Pass (RP Edit).esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49464/' ]
    after:
      - 'DD_Caldera_Expansion.esp'
      - 'Foyada Mamaea Overhaul.ESP'
      - 'Order_Of_Sanctity.ESP'
      - 'Walkers of Morrowind.esp'

###### Gameplay - General ######
  - name: 'Immersive_corprus.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/44961/' ]
    after:
      - 'Main Quest Overhaul.esp'
      - 'Sixth House.esp'

###### Gameplay - Quests ######
  - name: 'Guild of Vampire Hunters.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/45832/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'NX9_StuddedArmor.esp'

  - name: 'LuceEdit - Guild of Vampire Hunters.esp'
    url:
      - 'https://www.nexusmods.com/morrowind/mods/47224/'
      - 'https://www.nexusmods.com/morrowind/mods/49231/'
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'Glass Domes of Vivec.esp'
      - 'Mixed Cantons of Vivec.esp'
      - 'No-Frills Open Vivec.esp'

  - name: 'Main_Quest_Overhaul.ESP'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/46913/'
        name: 'Main Quest Overhaul'
    inc:
      - 'Ashlander Quests.ESP'
      - 'Consequences for Looting the Andrano Tomb.ESP'
      - 'Exterminate all the Brutes.ESP'
      - 'Hortator.ESP'
      - 'Imperialist Nerevarine.ESP'
      - 'Joinable Sixth House - So to Speak.ESP'
      - 'Living With Caius.ESP'
      - 'Nationalist Nerevarine.ESP'
      - 'Past Life Regressions.ESP'
      - 'Refuse the Main Quest.ESP'
      - 'Sixth House Smugglers.ESP'
      - 'Vampire_Nerevarine.ESP'

  - name: 'Ministry_of_Clarity.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/46093/' ]
    after: [ 'Clean_Mines & Caverns.esp' ]

  - name: 'Religions Elaborated.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/47843/' ]
    after:
      - 'Imperial_Legion_Expansion.esp'
      - 'More Exclusive Factions.ESP'
      - 'SwampFever.ESP'

  - name: 'The_Vanilla_Quest_Tweaks_RP_Choices_Consequences_Super_Mega_Package_-_Ultimate_Edition.ESP'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/47466/'
        name: 'The Vanilla Quest Tweaks RP Choices Consequences Super Mega Package - Ultimate Edition'
    after: [ 'Religions Elaborated.ESP' ]
    inc:
      - 'A Cure for Vampirism - Skink''s Solution.ESP'
      - 'Champion of Clutter.ESP'
      - 'Duel of Honor - Improve the Chances.ESP'
      - 'Fargoth in Distress.ESP'
      - 'Fort Moonmoth Fundraiser Dinner.ESP'
      - 'Harvest''s End Festival.ESP'
      - 'Hentus Needs Pants Overhaul.ESP'
      - 'Hiring Guards for the Redoran Stronghold - Honorable Solution.ESP'
      - 'Immersive Neloth Reward.ESP'
      - 'Libertarian Magical Services.ESP'
      - 'Morrowind - Immanuel Kant Edition.ESP'
      - 'Oath to Saint Roris Instead.ESP'
      - 'Pacifist Options - When it Makes Sense.ESP'
      - 'Redoran Founder''s Helm Add On- Honor the Ancestors.ESP'
      - 'Strange Man at Gindrala Hleran''s House Overhaul.ESP'
      - 'Teach Nels Llendo a Lesson.ESP'
      - 'The Corpse and the Skooma Pipe Overhaul.ESP'
      - 'The Frostmoth Smugglers - Properly Rewarded.ESP'
      - 'Thelas'' Pillows Overhaul.ESP'
      - 'Therana vs Trerayna.ESP'

  ### Rise of House Telvanni ###
  - name: 'ROHT_2_0_8.ESP'
    url:
      - 'https://www.nexusmods.com/morrowind/mods/48225/'
      - 'https://www.nexusmods.com/morrowind/mods/49231/'
    after: [ 'Beautiful cities of Morrowind.ESP' ]
    inc: [ 'BOM_ROHT_Patch.ESP' ]
    req:
      - name: 'Rise of House Telvanni.esm'
        display: '[Rise of House Telvanni.esm](https://www.nexusmods.com/morrowind/mods/27545/)'

###### Locations - New Lands ######
  ### Tamriel Rebuilt ###
  - name: 'TR_Factions.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/42145/' ]
    after: [ 'higher faction requirements - Full.ESP' ]
  - name: 'TR_Travels.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/42145/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'Religions Elaborated.ESP'
      - 'SwampFever.ESP'
      - 'TR_Preview.esp'
  - name: 'TR_Travels_(Preview_and_Mainland).esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/42145/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'TR_Travels.esp'
  - name: 'TR_Travels Patch.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/42145/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'TR_Travels.esp'
      - 'TR_Travels_(Preview_and_Mainland).esp'

###### Locations - Overhauls ######
  ### Beautiful cities of Morrowind ###
  - name: 'Beautiful cities of Morrowind.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'BCOM West Gash.esp'
      - 'Better Landscapes Stonewood Pass.esp'
      - 'Better Landscapes Stonewood Pass (MD Edit).esp'
      - 'Better Landscapes Stonewood Pass (RP Edit).esp'
      - 'DD_Caldera_Expansion v15 + Stonewood Pass Patch.ESP'
      - 'Fighters_Guild_Questline_Overhaul.ESP'
      - 'Foyada Mamaea Overhaul.ESP'
      - 'KS_Julan_Ashlander Companion_2.0.esp'
      - 'KS_Julan_Ashlander Companion_3.0_beta.esp'
      - 'Morrowind Anti-Cheese.esp'
      - 'Trackless Grazeland.ESP'
      - 'Uvirith''s Legacy_3.53.esp'
    inc:
      - 'MDP 2013.esp'
      - 'MDP 2013-CV.esp'
      - 'MDP 2016.esp'
      - 'Duke''s Throne Room Overhaul.ESP'
      - 'Ald-Ruhn Temple Expansion 1.5.esp'
      - 'aldruhnmagesguildexpansion.esp'
      - 'AldRuhn_seat_of_power.ESP'
      - 'Atmospheric Delights.ESP'
      - 'Balmora Redecorated.esp'
      - 'Balmora_Rooftop_Apartments_1-0.esp'
      - 'Balmora_Seat of power.esm'
      - 'Barabus'' fireplaces 2 - Vanilla Chimneys v2.2.ESP'
      - 'bw_striderports.esp'
      - 'Caldera Mages Guild Expanded.ESP'
      - 'Clean DR115_TheDropoff.ESP'
      - 'Concept Art Hlaalu Balconies - Balmora.esp'
      - 'Concept Art Hlaalu Balconies - Suran.ESP'
      - 'Concept art Hlaalu Balconies - WhiteSuran.esp'
      - 'DirtierCozierMuriels.ESP'
      - 'DirtyMurielsExpansion.esp'
      - 'Dramatic Vivec - Temple only.ESP'
      - 'Even Seedier Eight Plates.ESP'
      - 'Exterior Guild Lighting.ESP'
      - 'Guilds.esp'
      - 'Hla Oad.esp'
      - 'HotV - Gnisis.ESP'
      - 'Immersive Seyda Neen.ESP'
      - 'Improved Temple Experience.ESP'
      - 'Inscribed Maar Gan Rock.ESP'
      - 'IntoTheFyr.ESP'
      - 'Izi cities -  Ebonheart.esp'
      - 'Izi cities - Ebonheart_TR_Statue.esp'
      - 'jobashaBookShop.esp'
      - 'Mixed Cantons of Vivec.esp'
      - 'Moonmoth Legion Fort Overhaul.ESP'
      - 'No-Frills Closed Molag Mar.esp'
      - 'Properly Cluttered Ald Velothi.ESP'
      - 'QL_SevenGracesShrines.esp'
      - 'RR_Ghost_Gate_Fortress_Eng.ESP'
      - 'RR_Holamayan_Eng.ESP'
      - 'Sadrith Mora - seat of power.esm'
      - 'Seyda_Neen_Gateway.ESP'
      - 'Suran_the_pearl_vanilla_style.ESP'
      - 'Tel Naga Treasury.ESP'
      - 'Telvanni Council Lounge Room.ESP'
      - 'Tel_Aruhn_Chronicles.ESP'
      - 'The Ashlanders.ESP'
      - 'The Grand Pharos Lighthouse-Apel.ESP'
      - 'The Grand Pharos Lighthouse.esp'
      - 'The Merchants of Sadrith Mora.ESP'
      - 'Velothi Strider Port Lights.ESP'
      - 'Vivec_Mages_Guild_Expanded.ESP'
      - 'Well addon for Ashfall.ESP'
      - 'Whitney_EdwinnaStudy.ESP'
      - 'wl_dockclutter.esp'
      - 'Wolverine Hall Interior Expanded.ESP'
      - 'Wolverine Hall Overhaul.ESP'
      - 'WWGTMA.esp'
    msg:
      - <<: *patchIncluded
        subs: [ 'Rise of House Telvanni' ]
        condition: 'active("Rise of House Telvanni.esm") and not active("ROHT_2_0_8.ESP") and not active("BOM_ROHT_Patch.ESP")'
  - name: 'BOM_pathgrid_reset.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
  - name: 'BOM_OpenMW_plazas.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'BOM_pathgrid_reset.esp'
  - name: 'Interior exterior flag reset.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'BOM_OpenMW_plazas.esp'
      - 'BOM_pathgrid_reset.esp'
   ### BCOM - Optional files ###
  - name: 'BOM_PfP_patch.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'Patch for Purists.esm'
      - 'Patch for Purists - Book Typos.ESP'
      - 'Patch for Purists - Semi-Purist Fixes.ESP'
  - name: 'BCOM_Suran Expansion.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after: [ 'BOM_pathgrid_reset.esp' ]
  - name: 'BOM_Stavs_MGO.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after: [ 'Beautiful cities of Morrowind.ESP' ]
  - name: 'BOM - Taller Lighthouse.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after: [ 'BOM_pathgrid_reset.esp' ]
  - name: 'BOM_Vanilla Trees.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after: [ 'BOM_pathgrid_reset.esp' ]
  - name: 'BOM_White_Suran.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'BCOM_Suran Expansion.esp'
      - 'Beautiful cities of Morrowind.ESP'
      - 'Suran_Underworld_v3.esp'
  - name: 'SOP_Canal_02.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after: [ 'Beautiful cities of Morrowind.ESP' ]
  - name: 'SOP_RichPlaza_IziStyle.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    inc: [ 'Brevur of Balmora - Finally Some Good Statue Mod.ESP' ]
    after: [ 'BOM_pathgrid_reset.esp' ]

  - name: 'Brevur of Balmora - Finally Some Good Statue Mod.ESP'
    url:
      - 'https://www.nexusmods.com/morrowind/mods/47557/'
      - 'https://www.nexusmods.com/morrowind/mods/49231/'
    inc: [ 'SOP_RichPlaza_IziStyle.ESP' ]
    after: [ 'BOM_pathgrid_reset.esp' ]
    msg:
      - <<: *requiresResources
        subs: [ '[Brevur of Balmora - Finally Some Good Statue Mod](https://www.nexusmods.com/morrowind/mods/47557)' ]
        condition: 'not file("textures/R0/Brevur.dds")'
      - <<: *useInstead
        subs: [ '[Brevur of Balmora - Finally Some Good Statue Mod.ESP](https://www.nexusmods.com/morrowind/mods/49231/)' ]
        condition: 'active("Beautiful cities of Morrowind.ESP") and checksum("Brevur of Balmora - Finally Some Good Statue Mod.ESP", 728FD2B8)'

  - name: 'TR_Travels_(P_M) Patch.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49231/' ]
    after:
      - 'Beautiful cities of Morrowind.ESP'
      - 'TR_Travels.esp'
      - 'TR_Travels_(Preview_and_Mainland).esp'
      - 'TR_Travels Patch.esp'
###### Anything new can go after this (If you're not sure where to put it) ######
  ### OAAB dependent mods ###
  - name: 'OAAB - Tombs and Towers.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/49131/' ]
    inc:
      - 'Mawia Overhaul.esp'
      - 'Remiros'' Tombs Expansion.esp'
      - 'Urshilaku Burial Caverns Overhaul.esp'

  - name: 'OAAB_Tel Mora.esp'
    url: [ 'https://www.nexusmods.com/morrowind/mods/46177/' ]
    after: [ 'NOM 3.0.esp' ]
  - name: 'OAAB_Tel Mora_Female Guards.ESP'
    url: [ 'https://www.nexusmods.com/morrowind/mods/46177/' ]
    after: [ 'OAAB_Tel Mora.esp' ]

  ### Needs of Morrowind ###
  - name: 'NOM 3.0.esp'
    url: [ 'https://mw.modhistory.com/download-35-12114' ]
    after:
      - 'ab01HousesMerged.esp'
      - 'ab01housesMergedNOM.esp'
      - 'abotGuards.esp'
      - 'abotGuardsBM.esp'
      - 'abotGuardsTR2101.esp'
      - 'Apothecary''s Demise.esp'
      - 'ARCDX - Alternative Music.esp'
      - 'ARCDX - Lightweight.esp'
      - 'ARCDX - NOMv3 Compatible.esp'
      - 'Ascadian Rose Cottage DX.esm'
      - 'Ascadian_Rose_Cottage_ver1.0.esp'
      - 'Better Clothes Complete.ESP'
      - 'Better Clothes_v1.1.esp'
      - 'Better Clothes_v1.1_nac.esp'
      - 'Korobal.esp'
      - 'Morrowind Crafting 2-1.esp'
      - 'Morrowind Crafting Equipment.esp'
      - 'Morrowind Crafting Houses.esp'
      - 'Sentinel+Serendipity.esp'
  - name: 'NOM3_PT SO.esp'
    after:
      - 'ab01HousesMerged.esp'
      - 'ab01housesMergedNOM.esp'
      - 'abotGuards.esp'
      - 'abotGuardsBM.esp'
      - 'abotGuardsTR2101.esp'
      - 'Apothecary''s Demise.esp'
      - 'ARCDX - Alternative Music.esp'
      - 'ARCDX - Lightweight.esp'
      - 'ARCDX - NOMv3 Compatible.esp'
      - 'Ascadian Rose Cottage DX.esm'
      - 'Ascadian_Rose_Cottage_ver1.0.esp'
      - 'Better Clothes Complete.ESP'
      - 'Better Clothes_v1.1.esp'
      - 'Better Clothes_v1.1_nac.esp'
      - 'Korobal.esp'
      - 'Morrowind Crafting 2-1.esp'
      - 'Morrowind Crafting Equipment.esp'
      - 'Morrowind Crafting Houses.esp'
      - 'Sentinel+Serendipity.esp'
  - name: 'NoM_CoM Compatibility Patch.esp'
    url: [ 'https://mw.modhistory.com/download-35-12114' ]
    after:
      - 'MW_Children_1_0.esm'
      - 'NOM3.0.esp'
      - 'NOM3_PT SO.esp'
      - 'NoM_Creatures Loot Standard.esp'
      - 'NoM_MC Compatibility Patch.esp'
  - name: 'NoM_Creatures Loot Standard.esp'
    url: [ 'https://mw.modhistory.com/download-35-12114' ]
    after:
      - 'NOM3.0.esp'
      - 'NOM3_PT SO.esp'
  - name: 'NoM_Creatures Loot PHW.esp'
    url: [ 'https://mw.modhistory.com/download-35-12114' ]
    after:
      - 'NOM3.0.esp'
      - 'NOM3_PT SO.esp'
  - name: 'NoM_MC Compatibility Patch.esp'
    url: [ 'https://mw.modhistory.com/download-35-12114' ]
    after:
      - 'Morrowind Crafting 2-1.esp'
      - 'Morrowind Crafting 3b1.ESP'
      - 'NOM3.0.esp'
      - 'NOM3_PT SO.esp'
      - 'NoM_Creatures Loot Standard.esp'

  ### Other Stuff (sort later) ###
  - name: 'Better Propylon Teleport Warp(-Master Index)?\.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/46364/'
        name: 'Pikas Miscellaneous Mods'
    msg:
      - <<: *useOnlyOneX
        subs: [ 'Better Propylon Teleport Warp ESP' ]
        condition: 'many("Better Propylon Teleport Warp(-Master Index)?\.esp")'
  - name: 'Better Propylon Teleport Warp-Master Index.esp'
    after: [ 'MasterIndexRedux.esp' ]
    req:
      - name: 'master_index.esp'
        display: '[Master Index Plugin](https://www.nexusmods.com/morrowind/mods/42985/) **OR** [Unofficial Morrowind Official Plugins Patched](https://www.nexusmods.com/morrowind/mods/43931/) (**master-index.esp**)'
        condition: 'not active("MasterIndexRedux.esp")'

  - name: 'Imperial Legion Expansion.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/44469/'
        name: 'Imperial Legion Expansion'
    inc:
      - 'dukesarmor.ESP'
      - 'Imperial Legion Goods.esp'
      - 'Legionpapers.esp'
      - 'Publius_Claudius_Follower.ESP'
